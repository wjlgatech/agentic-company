# ðŸš€ Agentic Marketing Campaign Workflow
# Build-in-Public Campaign Automation
#
# Usage:
#   agentic workflow run marketing-campaign -i "product=AgentiCom"

name: marketing-campaign
description: |
  Full-stack marketing automation for build-in-public campaigns.
  Discovers pain points, analyzes competitors, creates content,
  builds landing pages, and manages community engagement.

version: "1.0"

# Campaign Configuration
config:
  duration_days: 30
  platforms:
    - twitter
    - reddit
    - hackernews
    - github
    - linkedin
    - devto

  content_schedule:
    daily:
      - build_in_public_post
      - engagement_responses
    weekly:
      - technical_deep_dive
      - competitor_update
      - metrics_report
    biweekly:
      - viral_content_push
      - influencer_outreach

# Agent Definitions
agents:
  social_intel:
    role: researcher
    name: SocialIntelligenceAgent
    model: claude-sonnet-4-20250514
    tools:
      - web_search
      - twitter_api
      - reddit_api
    capabilities:
      - pain_point_discovery
      - sentiment_analysis
      - trend_detection

  competitor_analyst:
    role: analyst
    name: CompetitorAnalyst
    model: claude-sonnet-4-20250514
    tools:
      - web_search
      - product_databases
    capabilities:
      - competitive_analysis
      - pricing_research
      - feature_comparison

  landing_page_builder:
    role: developer
    name: LandingPageArchitect
    model: claude-sonnet-4-20250514
    tools:
      - code_generator
      - image_generator
    capabilities:
      - html_css_generation
      - copywriting
      - conversion_optimization

  content_creator:
    role: developer
    name: ViralContentCreator
    model: claude-sonnet-4-20250514
    temperature: 0.8
    tools:
      - text_generator
      - image_generator
      - video_script_generator
    capabilities:
      - twitter_threads
      - technical_writing
      - meme_creation
      - video_scripts

  community_manager:
    role: reviewer
    name: CommunityEngager
    model: claude-sonnet-4-20250514
    tools:
      - social_responder
      - dm_sender
    capabilities:
      - community_engagement
      - relationship_building
      - outreach_automation

  campaign_lead:
    role: planner
    name: CampaignOrchestrator
    model: claude-sonnet-4-20250514
    capabilities:
      - strategy_planning
      - metrics_tracking
      - team_coordination

# Workflow Steps
steps:
  # Phase 1: Research (Day 1-3)
  - name: discover_pain_points
    agent: social_intel
    description: Scan social platforms for pain points and frustrations
    inputs:
      - keywords: "{{campaign.pain_points_keywords}}"
      - platforms: "{{config.platforms}}"
      - lookback_days: 7
    outputs:
      - pain_points_report
      - engagement_opportunities
      - influencer_list
    approval_required: false

  - name: analyze_competitors
    agent: competitor_analyst
    description: Deep competitive analysis
    inputs:
      - competitors: "{{campaign.competitors}}"
      - our_product: "{{campaign.product_idea}}"
    outputs:
      - battle_cards
      - gap_analysis
      - positioning_strategy
    depends_on:
      - discover_pain_points

  # Phase 2: Build (Day 4-7)
  - name: create_landing_page
    agent: landing_page_builder
    description: Generate high-converting landing page
    inputs:
      - pain_points: "{{discover_pain_points.pain_points_report}}"
      - positioning: "{{analyze_competitors.positioning_strategy}}"
      - product_name: "{{campaign.name}}"
    outputs:
      - landing_page_html
      - meta_tags
      - analytics_setup
    approval_required: true  # Human reviews before publish
    depends_on:
      - discover_pain_points
      - analyze_competitors

  - name: create_content_calendar
    agent: content_creator
    description: Generate 30-day content calendar
    inputs:
      - duration: "{{config.duration_days}}"
      - pain_points: "{{discover_pain_points.pain_points_report}}"
      - positioning: "{{analyze_competitors.positioning_strategy}}"
      - platforms: "{{config.platforms}}"
    outputs:
      - content_calendar
      - post_templates
      - hashtag_strategy
    depends_on:
      - analyze_competitors

  # Phase 3: Launch (Day 7+)
  - name: plan_outreach
    agent: community_manager
    description: Create engagement and outreach plan
    inputs:
      - opportunities: "{{discover_pain_points.engagement_opportunities}}"
      - influencers: "{{discover_pain_points.influencer_list}}"
      - content: "{{create_content_calendar.post_templates}}"
    outputs:
      - outreach_playbook
      - response_templates
      - daily_tasks
    depends_on:
      - discover_pain_points
      - create_content_calendar

  - name: orchestrate_campaign
    agent: campaign_lead
    description: Create master execution plan
    inputs:
      - research: "{{discover_pain_points}}"
      - competitors: "{{analyze_competitors}}"
      - landing_page: "{{create_landing_page}}"
      - content: "{{create_content_calendar}}"
      - outreach: "{{plan_outreach}}"
    outputs:
      - master_plan
      - kpi_dashboard
      - daily_checklist
    depends_on:
      - create_landing_page
      - create_content_calendar
      - plan_outreach

# Daily Operations (After Initial Setup)
daily_workflow:
  morning:
    - agent: social_intel
      task: scan_new_conversations
      time: "08:00"

    - agent: competitor_analyst
      task: check_competitor_activity
      time: "08:30"

  midday:
    - agent: content_creator
      task: create_daily_post
      time: "12:00"

    - agent: content_creator
      task: create_engagement_content
      time: "13:00"

  afternoon:
    - agent: community_manager
      task: respond_to_opportunities
      time: "15:00"

    - agent: community_manager
      task: execute_outreach
      time: "16:00"

  evening:
    - agent: campaign_lead
      task: compile_daily_report
      time: "18:00"

# Metrics & KPIs
metrics:
  primary:
    - name: waitlist_signups
      target_daily: 10
      target_weekly: 100

    - name: landing_page_conversion
      target: 0.05  # 5%

  engagement:
    - name: twitter_impressions
      target_weekly: 50000

    - name: engagement_rate
      target: 0.03  # 3%

    - name: replies_sent
      target_daily: 15

  content:
    - name: posts_published
      target_daily: 2

    - name: viral_posts  # >1000 impressions
      target_weekly: 3

# Guardrails
guardrails:
  content:
    - no_competitor_bashing
    - authentic_voice_only
    - disclose_affiliation
    - no_spam

  outreach:
    - max_dms_per_day: 20
    - min_value_before_pitch: true
    - no_automated_follow_backs

  engagement:
    - response_time_hours: 4
    - personalization_required: true

# Notifications
notifications:
  slack_webhook: "{{env.SLACK_WEBHOOK}}"
  email: "{{env.NOTIFICATION_EMAIL}}"

  triggers:
    - event: viral_post
      threshold: 1000
      message: "ðŸ”¥ Post went viral!"

    - event: waitlist_milestone
      thresholds: [100, 500, 1000]
      message: "ðŸŽ‰ Waitlist milestone reached!"

    - event: competitor_mention
      message: "ðŸ‘€ Competitor mentioned us"
